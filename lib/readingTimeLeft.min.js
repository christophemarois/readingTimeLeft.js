$.fn.readingTimeLeft=function(e){function t(e,t){var n=!1;return function(){n||(e.call(),n=!0,setTimeout(function(){n=!1},t))}}var n=$.extend({},{stepSelector:"*",wordPerMinute:270,eventName:"timechange"},e),i=$(this),r=$(window),o=i.find(n.stepSelector);o.each(function(e,t){var n=o.slice(e,o.length).text();$(t).data("words-left",n.trim().split(/\s+/g).length)}),$.fn.filterVisible=function(){var e=r.width(),t=r.height();return this.filter(function(n,i){var r=i.getBoundingClientRect();return r.top>=0&&r.right<=e&&r.bottom<=t&&r.left>=0})};var a="scroll."+n.eventName+" resize."+n.eventName;return $(window).on(a,t(function(e){var t=o.filterVisible().last().data("words-left");i.trigger(n.eventName,t/n.wordPerMinute)},50)),i.on("destroy.readingTimeLeft",function(e){$(window).off(a),o.removeData("words-left")}),i};